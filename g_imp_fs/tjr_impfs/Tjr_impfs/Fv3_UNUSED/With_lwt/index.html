<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>With_lwt (tjr_impfs.Tjr_impfs.Fv3_UNUSED.With_lwt)</title><link rel="stylesheet" href="../../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> – <a href="../../../index.html">tjr_impfs</a> &#x00BB; <a href="../../index.html">Tjr_impfs</a> &#x00BB; <a href="../index.html">Fv3_UNUSED</a> &#x00BB; With_lwt</nav><header class="odoc-preamble"><h1>Module <code><span>Fv3_UNUSED.With_lwt</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec module" id="module-K" class="anchored"><a href="#module-K" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="K/index.html">K</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-V" class="anchored"><a href="#module-V" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="V/index.html">V</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Wbc" class="anchored"><a href="#module-Wbc" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Wbc/index.html">Wbc</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <span class="keyword">module</span> <span class="keyword">type</span> <span class="keyword">of</span> <span class="keyword">struct</span> <span class="keyword">include</span> <a href="Wbc/index.html">Wbc</a> <span class="keyword">end</span></span></code></summary><div class="odoc-spec"><div class="spec type" id="type-wbc" class="anchored"><a href="#type-wbc" class="anchor"></a><code><span><span class="keyword">type</span> wbc</span><span> = <span class="xref-unresolved">Tjr_fs_shared__Write_back_cache_v3</span>.Make(<span class="xref-unresolved">K</span>)(<span class="xref-unresolved">V</span>).wbc</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-wbc_factory" class="anchored"><a href="#val-wbc_factory" class="anchor"></a><code><span><span class="keyword">val</span> wbc_factory : <span><span>(<a href="K/index.html#type-t">K.t</a>, <a href="V/index.html#type-t">V.t</a>, <a href="#type-wbc">wbc</a>)</span> <span class="xref-unresolved">Tjr_fs_shared__Write_back_cache_v3</span>.wbc_factory</span></span></code></div></div></details></div><div class="odoc-spec"><div class="spec value" id="val-wbc_params" class="anchored"><a href="#val-wbc_params" class="anchor"></a><code><span><span class="keyword">val</span> wbc_params : <span>&lt; cap : int; delta : int; &gt;</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-cap" class="anchored"><a href="#val-cap" class="anchor"></a><code><span><span class="keyword">val</span> cap : int</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-delta" class="anchored"><a href="#val-delta" class="anchor"></a><code><span><span class="keyword">val</span> delta : int</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-wbc_ops" class="anchored"><a href="#val-wbc_ops" class="anchor"></a><code><span><span class="keyword">val</span> wbc_ops : <span><span>(<a href="K/index.html#type-t">K.t</a>, <a href="V/index.html#type-t">V.t</a>, <a href="#type-wbc">wbc</a>)</span> <span class="xref-unresolved">Tjr_fs_shared__Write_back_cache_v3</span>.wbc_ops_plus</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-cache" class="anchored"><a href="#type-cache" class="anchor"></a><code><span><span class="keyword">type</span> cache</span><span> = <a href="Wbc/index.html#type-wbc">Wbc.wbc</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-cache_ops" class="anchored"><a href="#val-cache_ops" class="anchor"></a><code><span><span class="keyword">val</span> cache_ops : <span><span>(<a href="K/index.html#type-t">K.t</a>, <a href="V/index.html#type-t">V.t</a>, <a href="#type-wbc">wbc</a>)</span> <span class="xref-unresolved">Tjr_fs_shared__Write_back_cache_v3</span>.wbc_ops</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-empty_cache" class="anchored"><a href="#val-empty_cache" class="anchor"></a><code><span><span class="keyword">val</span> empty_cache : <a href="#type-wbc">wbc</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-make_file_cache" class="anchored"><a href="#val-make_file_cache" class="anchor"></a><code><span><span class="keyword">val</span> make_file_cache : <span>times:<span><span class="xref-unresolved">Tjr_minifs</span>.Minifs_intf.Times.times <a href="../Maybe_dirty/index.html#type-maybe_dirty">Maybe_dirty.maybe_dirty</a></span> <span class="arrow">&#45;&gt;</span></span> <span>size:<span>int <a href="../Maybe_dirty/index.html#type-maybe_dirty">Maybe_dirty.maybe_dirty</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(unit, <a href="#type-cache">cache</a>)</span> <a href="../index.html#type-f_cache">f_cache</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-file_factory" class="anchored"><a href="#type-file_factory" class="anchor"></a><code><span><span class="keyword">type</span> file_factory</span><span> = <span>&lt; make_file_cache : <span>times:<span><span class="xref-unresolved">Tjr_minifs</span>.Minifs_intf.times <a href="../Maybe_dirty/index.html#type-maybe_dirty">Maybe_dirty.maybe_dirty</a></span> <span class="arrow">&#45;&gt;</span></span> <span>size:<span><a href="../index.html#type-blk_off">blk_off</a> <a href="../Maybe_dirty/index.html#type-maybe_dirty">Maybe_dirty.maybe_dirty</a></span> <span class="arrow">&#45;&gt;</span></span>
<span><span>(unit, <a href="#type-cache">cache</a>)</span> <a href="../index.html#type-f_cache">f_cache</a></span>; with_ : <span>lower_ops:<span><span>(<span class="xref-unresolved">Tjr_fs_shared</span>.Shared_ctxt.blk, <span class="xref-unresolved">Tjr_monad</span>.lwt)</span> <a href="../index.html#type-lower_ops">lower_ops</a></span> <span class="arrow">&#45;&gt;</span></span>
<span>with_cache:<span><span>(<span><span>(unit, <a href="#type-cache">cache</a>)</span> <a href="../index.html#type-f_cache">f_cache</a></span>, <span class="xref-unresolved">Tjr_monad</span>.lwt)</span> <span class="xref-unresolved">Tjr_monad</span>.with_state</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="xref-unresolved">Tjr_fs_shared</span>.Shared_ctxt.buf, <span class="xref-unresolved">Tjr_monad</span>.lwt)</span> <a href="../index.html#type-file_ops">file_ops</a></span>; &gt;</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-file_factory" class="anchored"><a href="#val-file_factory" class="anchor"></a><code><span><span class="keyword">val</span> file_factory : <a href="#type-file_factory">file_factory</a></span></code></div></div></div></body></html>