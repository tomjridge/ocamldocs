<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Directories_prelude (tjr_impfs.Tjr_impfs_v3.V3_level2.Directories_prelude)</title><link rel="stylesheet" href="../../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> – <a href="../../../index.html">tjr_impfs</a> &#x00BB; <a href="../../index.html">Tjr_impfs_v3</a> &#x00BB; <a href="../index.html">V3_level2</a> &#x00BB; Directories_prelude</nav><header class="odoc-preamble"><h1>Module <code><span>V3_level2.Directories_prelude</span></code></h1><p>NOTE nothing in here is actually exposed in <a href="../Stage2/index.html"><code>Stage2</code></a> below; could just open the structure rather than binding it</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec module" id="module-Lru" class="anchored"><a href="#module-Lru" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Lru/index.html">Lru</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-lru" class="anchored"><a href="#val-lru" class="anchor"></a><code><span><span class="keyword">val</span> lru : <span><span>(<span class="xref-unresolved">Tjr_fs_shared</span>.str_256, <a href="../S1/index.html#type-dir_entry">S1.dir_entry</a>, unit)</span> <a href="Lru/index.html#type-lru_module">Lru.lru_module</a></span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Entries_cache" class="anchored"><a href="#module-Entries_cache" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Entries_cache/index.html">Entries_cache</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-entries_cache" class="anchored"><a href="#type-entries_cache" class="anchor"></a><code><span><span class="keyword">type</span> entries_cache</span><span> = <a href="Entries_cache/index.html#type-cache_state'">Entries_cache.cache_state'</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-entries_cache_ops" class="anchored"><a href="#val-entries_cache_ops" class="anchor"></a><code><span><span class="keyword">val</span> entries_cache_ops : <span><span>(<a href="Entries_cache/index.html#type-k">Entries_cache.k</a>, <a href="Entries_cache/index.html#type-v">Entries_cache.v</a>, <a href="Entries_cache/index.html#type-cache_state'">Entries_cache.cache_state'</a>, <a href="Entries_cache/index.html#type-bot">Entries_cache.bot</a>, <a href="Entries_cache/index.html#type-t">Entries_cache.t</a>)</span> <a href="Lru/Top/index.html#type-ops">Lru.Top.ops</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-sql_dir_ops" class="anchored"><a href="#type-sql_dir_ops" class="anchor"></a><code><span><span class="keyword">type</span> sql_dir_ops</span><span> = <span><span>(<span class="xref-unresolved">Tjr_fs_shared</span>.str_256, <a href="../S1/index.html#type-dir_entry">S1.dir_entry</a>, <a href="../../V3_base_types/index.html#type-t">S0.t</a>, <a href="../../V3_base_types/index.html#type-did">S0.did</a>)</span> <a href="../../../V3_sqlite/Sqlite_dir/index.html#type-dir_ops">V3_sqlite.Sqlite_dir.dir_ops</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-per_dir" class="anchored"><a href="#type-per_dir" class="anchor"></a><code><span><span class="keyword">type</span> per_dir</span><span> = </span><span>{</span></code><table><tr id="type-per_dir.lock" class="anchored"><td class="def record field"><a href="#type-per_dir.lock" class="anchor"></a><code><span>lock : <span class="xref-unresolved">Tjr_monad</span>.With_lwt.lwt_mutex;</span></code></td></tr><tr id="type-per_dir.parent" class="anchored"><td class="def record field"><a href="#type-per_dir.parent" class="anchor"></a><code><span>parent : <span><a href="../../V3_base_types/index.html#type-did">S0.did</a> <a href="../R/index.html#type-ref">R.ref</a></span>;</span></code></td></tr><tr id="type-per_dir.times" class="anchored"><td class="def record field"><a href="#type-per_dir.times" class="anchor"></a><code><span>times : <span><span class="xref-unresolved">Tjr_minifs</span>.Minifs_intf.times <a href="../R/index.html#type-ref">R.ref</a></span>;</span></code></td></tr><tr id="type-per_dir.entries_cache" class="anchored"><td class="def record field"><a href="#type-per_dir.entries_cache" class="anchor"></a><code><span>entries_cache : <a href="#type-entries_cache">entries_cache</a>;</span></code></td></tr></table><code><span>}</span></code></div></div><p>Live dirs; use V3_live_object_cache</p><div class="odoc-spec"><div class="spec module" id="module-S2" class="anchored"><a href="#module-S2" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="S2/index.html">S2</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-per_file" class="anchored"><a href="#type-per_file" class="anchor"></a><code><span><span class="keyword">type</span> per_file</span><span> = </span><span>{</span></code><table><tr id="type-per_file.fd" class="anchored"><td class="def record field"><a href="#type-per_file.fd" class="anchor"></a><code><span>fd : <span class="xref-unresolved">Lwt_unix</span>.file_descr;</span></code></td></tr></table><code><span>}</span></code></div></div></div></body></html>