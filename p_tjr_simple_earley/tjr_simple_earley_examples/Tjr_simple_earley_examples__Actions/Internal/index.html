<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Internal (tjr_simple_earley_examples.Tjr_simple_earley_examples__Actions.Internal)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">tjr_simple_earley_examples</a> &#x00BB; <a href="../index.html">Tjr_simple_earley_examples__Actions</a> &#x00BB; Internal</nav><h1>Module <code>Tjr_simple_earley_examples__Actions.Internal</code></h1></header><h3 class="heading">Parameters</h3><ul><li><code><a href="argument-1-T/index.html">T</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></li></ul><h3 class="heading">Signature</h3><dl><dt class="spec value" id="val-apply_actions"><a href="#val-apply_actions" class="anchor"></a><code><span class="keyword">val</span> apply_actions : <span>is_nt:<span>(<a href="argument-1-T/index.html#type-sym">T.sym</a> <span>&#45;&gt;</span> bool)</span></span> <span>&#45;&gt;</span> <span>dest_nt:<span>(<a href="argument-1-T/index.html#type-sym">T.sym</a> <span>&#45;&gt;</span> <a href="argument-1-T/index.html#type-nt">T.nt</a>)</span></span> <span>&#45;&gt;</span> <span>dest_tm:<span>(<a href="argument-1-T/index.html#type-sym">T.sym</a> <span>&#45;&gt;</span> <a href="argument-1-T/index.html#type-tm">T.tm</a>)</span></span> <span>&#45;&gt;</span> <span>get_rhss:<span>(<span>nt:<a href="argument-1-T/index.html#type-nt">T.nt</a></span> <span>&#45;&gt;</span> <span><span>(<span><a href="argument-1-T/index.html#type-sym">T.sym</a> list</span> * <span>(<span><a href="argument-1-T/index.html#type-uni_val">T.uni_val</a> list</span> <span>&#45;&gt;</span> <a href="argument-1-T/index.html#type-uni_val">T.uni_val</a>)</span>)</span> list</span>)</span></span> <span>&#45;&gt;</span> <span>cut:<span>(int <span>&#45;&gt;</span> <span>(<a href="argument-1-T/index.html#type-sym">T.sym</a> * <span><a href="argument-1-T/index.html#type-sym">T.sym</a> list</span>)</span> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span>int list</span>)</span></span> <span>&#45;&gt;</span> <span>apply_tm:<span>(<span>tm:<a href="argument-1-T/index.html#type-tm">T.tm</a></span> <span>&#45;&gt;</span> <span>i:int</span> <span>&#45;&gt;</span> <span>j:int</span> <span>&#45;&gt;</span> <span><a href="argument-1-T/index.html#type-uni_val">T.uni_val</a> option</span>)</span></span> <span>&#45;&gt;</span> <span>nt:<a href="argument-1-T/index.html#type-nt">T.nt</a></span> <span>&#45;&gt;</span> <span>i:int</span> <span>&#45;&gt;</span> <span>j:int</span> <span>&#45;&gt;</span> <span><span>(int * <a href="argument-1-T/index.html#type-nt">T.nt</a> * int)</span> list</span> <span>&#45;&gt;</span> <span><a href="argument-1-T/index.html#type-uni_val">T.uni_val</a> option</span></code></dt><dd><p>Apply actions for a given symbol, between two indices.</p><p>NOTES</p><ul><li>argument apply_tm takes a tm and a span (i,j) and returns at most one result</li><li>for/tm: see comment in code</li><li>for_nt/false case: uses backtracking to iterate over the possibilities</li><li>for_nt/false case: we iterate over the cut options till we find a possible rhs, and then we apply the action</li><li>for_syms cases: we treat <code></code> and <code>sym</code> specially</li></ul></dd></dl><aside><p>So we need:</p><ul><li>the grammar and actions, in the form of get_rhss</li><li><p>the parse results, in the form of cut and apply_tm</p><ul><li>apply_tm can just return a string, and we can then retrict actions to nts only (although this seems like a proper restriction for not much extra work)</li></ul></li><li>the initial nonterminal S</li><li><p>the span i,j (where S should match i,j exactly, and i is presumably 0)</p><ul><li>for this we need to be able to call something like max_extent (0,S) to get j</li></ul></li></ul></aside></div></body></html>