<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>S (tjr_mmap.Tjr_mmap__Mmap_intf.S)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../index.html">tjr_mmap</a> &#x00BB; <a href="../index.html">Tjr_mmap__Mmap_intf</a> &#x00BB; S</nav><h1>Module type <code>Tjr_mmap__Mmap_intf.S</code></h1><p>To write to/from the mmap, use the sub function to get the subarray of interest. NOTE that because the map may grow when asking for a sub which extends beyond the current length, a remap may occur. Thus, subs should not be reused or stored, since they may refer to an out of date slice for an old mapping. For this reason, subs are not thread safe (a new thread may unmap a sub being used by an older thread).</p></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> <span>('a, 'b) t</span></code></dt></dl><dl><dt class="spec value" id="val-bytes_per_elt"><a href="#val-bytes_per_elt" class="anchor"></a><code><span class="keyword">val</span> bytes_per_elt : <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="../../Tjr_mmap/Util/Type_abbrevs/index.html#type-kind">Tjr_mmap.Util.Type_abbrevs.kind</a></span> <span>&#45;&gt;</span> int</code></dt><dd><p>Number of bytes used to store each elt</p></dd></dl><dl><dt class="spec value" id="val-of_fd"><a href="#val-of_fd" class="anchor"></a><code><span class="keyword">val</span> of_fd : Unix.file_descr <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="../../Tjr_mmap/Util/Type_abbrevs/index.html#type-kind">Tjr_mmap.Util.Type_abbrevs.kind</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-length"><a href="#val-length" class="anchor"></a><code><span class="keyword">val</span> length : <span><span>(<span class="type-var">_</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> int</code></dt><dd><p>Length of the mmap in terms of number of elts; should match the fstat size (taking bytes_per_elt into account)</p></dd></dl><dl><dt class="spec value" id="val-sub"><a href="#val-sub" class="anchor"></a><code><span class="keyword">val</span> sub : <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span>off:int</span> <span>&#45;&gt;</span> <span>len:int</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, Stdlib.Bigarray.c_layout)</span> Stdlib.Bigarray.Array1.t</span></code></dt><dd><p>Subarray from offset of the given length</p></dd></dl><dl><dt class="spec value" id="val-msync"><a href="#val-msync" class="anchor"></a><code><span class="keyword">val</span> msync : <span><span>(<span class="type-var">_</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Perform an msync to flush data to disk</p></dd></dl><dl><dt class="spec value" id="val-close"><a href="#val-close" class="anchor"></a><code><span class="keyword">val</span> close : <span><span>(<span class="type-var">_</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> unit</code></dt></dl></div></body></html>