<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Event (tjr_monad.Tjr_monad__.Event)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../index.html">tjr_monad</a> &#x00BB; <a href="../index.html">Tjr_monad__</a> &#x00BB; Event</nav><h1>Module <code>Tjr_monad__.Event</code></h1></header><dl><dt class="spec type" id="type-event"><a href="#type-event" class="anchor"></a><code><span class="keyword">type</span> <span>'a event</span></code></dt><dd><p>The type of events that resolve to <code>'a</code></p></dd></dl><dl><dt class="spec type" id="type-event_ops"><a href="#type-event_ops" class="anchor"></a><code><span class="keyword">type</span> <span>'t event_ops</span></code><code> = </code><code>{</code><table class="record"><tr id="type-event_ops.ev_create" class="anchored"><td class="def field"><a href="#type-event_ops.ev_create" class="anchor"></a><code>ev_create : a. unit <span>&#45;&gt;</span> <span><span>(<span><span class="type-var">'a</span> <a href="index.html#type-event">event</a></span>, <span class="type-var">'t</span>)</span> <a href="../Monad_ops/index.html#type-m">Tjr_monad__.Monad_ops.m</a></span>;</code></td></tr><tr id="type-event_ops.ev_wait" class="anchored"><td class="def field"><a href="#type-event_ops.ev_wait" class="anchor"></a><code>ev_wait : a. <span><span class="type-var">'a</span> <a href="index.html#type-event">event</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'t</span>)</span> <a href="../Monad_ops/index.html#type-m">Tjr_monad__.Monad_ops.m</a></span>;</code></td></tr><tr id="type-event_ops.ev_signal" class="anchored"><td class="def field"><a href="#type-event_ops.ev_signal" class="anchor"></a><code>ev_signal : a. <span><span class="type-var">'a</span> <a href="index.html#type-event">event</a></span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span>(unit, <span class="type-var">'t</span>)</span> <a href="../Monad_ops/index.html#type-m">Tjr_monad__.Monad_ops.m</a></span>;</code></td></tr></table><code>}</code></dt><dd><p>Multiple threads can be waiting on an event. Only one thread should signal the event. It is an error to signal the same event more than once. If this happens, the new signalled value is discarded and no further actions are taken. FIXME perhaps we should throw an exception or something. An event is a bit like a channel that multiple readers can register on (and all will receive any msgs), and which only carries at most one msg.</p><p>NOTE lwt has two types, <code>'a t</code> for promises and <code>'a u</code> for resolvers. These are implemented using the same underlying structure.</p></dd></dl></div></body></html>